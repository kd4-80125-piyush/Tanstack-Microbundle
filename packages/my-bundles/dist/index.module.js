import e,{useState as t,useMemo as n,Fragment as r}from"react";import{useTable as a,useSortBy as o}from"react-table";import{Dropdown as c}from"react-bootstrap";import*as l from"xlsx";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(null,arguments)}var i=[{Id:1,Name:"John Doe",Age:28,Country:"USA"},{Id:2,Name:"Jane Smith",Age:34,Country:"Canada"},{Id:3,Name:"Alice Johnson",Age:45,Country:"UK"},{Id:4,Name:"Bob Brown",Age:23,Country:"Australia"}],u=function(){var u=t([]),m=u[0],d=u[1],f=t([])[1],p=t(i),b=p[0],h=p[1],g=t("json"),E=g[0],y=g[1],v=function(){if(m.length===b.length)d([]),f([]);else{var e=b.map(function(e){return e.Id});d(e),f(b)}},C=n(function(){return[{Header:function(){/*#__PURE__*/return e.createElement("button",{onClick:v,className:"custom-btn2"},/*#__PURE__*/e.createElement("b",null,"Select"))},accessor:"select",Cell:function(t){var n=t.row;/*#__PURE__*/return e.createElement("input",{type:"checkbox",checked:m.includes(n.original.Id),onChange:function(){return function(e){var t=e.original.Id;d(function(e){var n=e.includes(t)?e.filter(function(e){return e!==t}):[].concat(e,[t]),r=b.filter(function(e){return n.includes(e.Id)});return f(r),n})}(n)}})},disableSortBy:!0},{Header:"Identity",accessor:"Id"},{Header:"Name",accessor:"Name"},{Header:"Age",accessor:"Age"},{Header:"Country",accessor:"Country"}]},[b,m]),x=a({columns:C,data:b},o),N=x.getTableProps,w=x.getTableBodyProps,k=x.headerGroups,j=x.rows,A=x.prepareRow,I=function(e){y(e),function(e){var t,n,r=k[0].headers.filter(function(e){return null!==e.Header&&"string"==typeof e.Header}).map(function(e){return e.Header});if("json"===e)t=JSON.stringify(b,null,2),n=new Blob([t],{type:"application/json"});else if("text"===e)t=[r.join(", ")].concat(b.map(function(e){return Object.values(e).join(", ")})).join("\n"),n=new Blob([t],{type:"text/plain"});else if("xlsx"===e){var a=b.map(function(e){var t={};return r.forEach(function(n,r){t[n]=Object.values(e)[r]}),t}),o=l.utils.json_to_sheet(a,{header:r}),c=l.utils.book_new();l.utils.book_append_sheet(c,o,"Sheet1");for(var s=l.write(c,{bookType:"xlsx",type:"binary"}),i=new ArrayBuffer(s.length),u=new Uint8Array(i),m=0;m<s.length;m++)u[m]=255&s.charCodeAt(m);n=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}var d=window.URL.createObjectURL(n),f=document.createElement("a");f.href=d,f.download="table-data."+e,document.body.appendChild(f),f.click(),document.body.removeChild(f)}(e)};/*#__PURE__*/return e.createElement(r,null,/*#__PURE__*/e.createElement("div",{className:"d-flex justify-content-center mb-3"},/*#__PURE__*/e.createElement("button",{onClick:function(){return h(i)},className:"custom-btn"},"Fetch Data"),/*#__PURE__*/e.createElement("button",{onClick:function(){},className:"custom-btn3"},"Delete"),/*#__PURE__*/e.createElement("button",{onClick:function(){},className:"custom-btn"},"Add Data")),/*#__PURE__*/e.createElement("div",{className:"container mt-4"},/*#__PURE__*/e.createElement("b",null,"Download"),/*#__PURE__*/e.createElement(c,null,/*#__PURE__*/e.createElement(c.Toggle,{variant:"success",id:"dropdown-basic"},E.toUpperCase()||"Select Format"),/*#__PURE__*/e.createElement(c.Menu,null,/*#__PURE__*/e.createElement(c.Item,{onClick:function(){return I("json")}},"JSON"),/*#__PURE__*/e.createElement(c.Item,{onClick:function(){return I("text")}},"Text"),/*#__PURE__*/e.createElement(c.Item,{onClick:function(){return I("xlsx")}},"Excel")))),/*#__PURE__*/e.createElement("div",{className:"table-container"},/*#__PURE__*/e.createElement("table",s({},N(),{className:"table table-bordered table-dark"}),/*#__PURE__*/e.createElement("thead",{className:"thead-dark"},k.map(function(t){/*#__PURE__*/return e.createElement("tr",t.getHeaderGroupProps(),t.headers.map(function(t){/*#__PURE__*/return e.createElement("th",s({},t.getHeaderProps(t.getSortByToggleProps()),{className:"text-center"}),t.render("Header"),/*#__PURE__*/e.createElement("span",null,t.isSorted?t.isSortedDesc?" ðŸ”½":" ðŸ”¼":""))}))})),/*#__PURE__*/e.createElement("tbody",w(),j.map(function(t){return A(t),/*#__PURE__*/e.createElement("tr",t.getRowProps(),t.cells.map(function(t){/*#__PURE__*/return e.createElement("td",s({},t.getCellProps(),{className:"text-center"}),t.render("Cell"))}))})))))};export{u as default};
//# sourceMappingURL=index.module.js.map
