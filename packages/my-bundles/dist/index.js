var e=require("react"),t=require("react-table"),n=require("react-bootstrap"),r=require("xlsx");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,t}var l=/*#__PURE__*/a(e),c=/*#__PURE__*/o(r);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}var d=[{Id:1,Name:"John Doe",Age:28,Country:"USA"},{Id:2,Name:"Jane Smith",Age:34,Country:"Canada"},{Id:3,Name:"Alice Johnson",Age:45,Country:"UK"},{Id:4,Name:"Bob Brown",Age:23,Country:"Australia"}];module.exports=function(){var r=e.useState([]),a=r[0],o=r[1],s=e.useState([])[1],i=e.useState(d),f=i[0],m=i[1],p=e.useState("json"),b=p[0],g=p[1],y=function(){if(a.length===f.length)o([]),s([]);else{var e=f.map(function(e){return e.Id});o(e),s(f)}},h=e.useMemo(function(){return[{Header:function(){/*#__PURE__*/return l.default.createElement("button",{onClick:y,className:"custom-btn2"},/*#__PURE__*/l.default.createElement("b",null,"Select"))},accessor:"select",Cell:function(e){var t=e.row;/*#__PURE__*/return l.default.createElement("input",{type:"checkbox",checked:a.includes(t.original.Id),onChange:function(){return function(e){var t=e.original.Id;o(function(e){var n=e.includes(t)?e.filter(function(e){return e!==t}):[].concat(e,[t]),r=f.filter(function(e){return n.includes(e.Id)});return s(r),n})}(t)}})},disableSortBy:!0},{Header:"Identity",accessor:"Id"},{Header:"Name",accessor:"Name"},{Header:"Age",accessor:"Age"},{Header:"Country",accessor:"Country"}]},[f,a]),E=t.useTable({columns:h,data:f},t.useSortBy),v=E.getTableProps,w=E.getTableBodyProps,C=E.headerGroups,j=E.rows,x=E.prepareRow,N=function(e){g(e),function(e){var t,n,r=C[0].headers.filter(function(e){return null!==e.Header&&"string"==typeof e.Header}).map(function(e){return e.Header});if("json"===e)t=JSON.stringify(f,null,2),n=new Blob([t],{type:"application/json"});else if("text"===e)t=[r.join(", ")].concat(f.map(function(e){return Object.values(e).join(", ")})).join("\n"),n=new Blob([t],{type:"text/plain"});else if("xlsx"===e){var a=f.map(function(e){var t={};return r.forEach(function(n,r){t[n]=Object.values(e)[r]}),t}),o=c.utils.json_to_sheet(a,{header:r}),l=c.utils.book_new();c.utils.book_append_sheet(l,o,"Sheet1");for(var u=c.write(l,{bookType:"xlsx",type:"binary"}),d=new ArrayBuffer(u.length),s=new Uint8Array(d),i=0;i<u.length;i++)s[i]=255&u.charCodeAt(i);n=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}var m=window.URL.createObjectURL(n),p=document.createElement("a");p.href=m,p.download="table-data."+e,document.body.appendChild(p),p.click(),document.body.removeChild(p)}(e)};/*#__PURE__*/return l.default.createElement(e.Fragment,null,/*#__PURE__*/l.default.createElement("div",{className:"d-flex justify-content-center mb-3"},/*#__PURE__*/l.default.createElement("button",{onClick:function(){return m(d)},className:"custom-btn"},"Fetch Data"),/*#__PURE__*/l.default.createElement("button",{onClick:function(){},className:"custom-btn3"},"Delete"),/*#__PURE__*/l.default.createElement("button",{onClick:function(){},className:"custom-btn"},"Add Data")),/*#__PURE__*/l.default.createElement("div",{className:"container mt-4"},/*#__PURE__*/l.default.createElement("b",null,"Download"),/*#__PURE__*/l.default.createElement(n.Dropdown,null,/*#__PURE__*/l.default.createElement(n.Dropdown.Toggle,{variant:"success",id:"dropdown-basic"},b.toUpperCase()||"Select Format"),/*#__PURE__*/l.default.createElement(n.Dropdown.Menu,null,/*#__PURE__*/l.default.createElement(n.Dropdown.Item,{onClick:function(){return N("json")}},"JSON"),/*#__PURE__*/l.default.createElement(n.Dropdown.Item,{onClick:function(){return N("text")}},"Text"),/*#__PURE__*/l.default.createElement(n.Dropdown.Item,{onClick:function(){return N("xlsx")}},"Excel")))),/*#__PURE__*/l.default.createElement("div",{className:"table-container"},/*#__PURE__*/l.default.createElement("table",u({},v(),{className:"table table-bordered table-dark"}),/*#__PURE__*/l.default.createElement("thead",{className:"thead-dark"},C.map(function(e){/*#__PURE__*/return l.default.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){/*#__PURE__*/return l.default.createElement("th",u({},e.getHeaderProps(e.getSortByToggleProps()),{className:"text-center"}),e.render("Header"),/*#__PURE__*/l.default.createElement("span",null,e.isSorted?e.isSortedDesc?" ðŸ”½":" ðŸ”¼":""))}))})),/*#__PURE__*/l.default.createElement("tbody",w(),j.map(function(e){return x(e),/*#__PURE__*/l.default.createElement("tr",e.getRowProps(),e.cells.map(function(e){/*#__PURE__*/return l.default.createElement("td",u({},e.getCellProps(),{className:"text-center"}),e.render("Cell"))}))})))))};
